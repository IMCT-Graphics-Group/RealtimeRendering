## 读书笔记: Real-time Rendering 4th Edition

### 0. 笔记前言

很难想象，我本来应该是看Pbrt并且深耕光线追踪的，但我却突发奇想决定先过一遍rtr，但仔细梳理逻辑又并不是没有根据的：Pbrt-v4出版在即，新版本引入了对Optix的支持，令我神往，所以先暂缓对Pbrt的学习；rtr更像一本算法目录，提供了大量有关光栅化、实时光追的内容，而我的研究内容是关于实时Pt的，也许可以通过rtr打开思路；最后一点大概就是对于工程的懈怠吧，我暂时觉得自己还没有做好为学习Pbrt做大量工程实践的准备，在这个还不算忙碌的研一下学期，抓住最后一点自由的时间，好好地享受阅读rtr的快乐吧~

### 1. 图形渲染管线

管线（或称为流水线），是一种有效提高生产效率的方式。通过将生产全流程拆解成$n$个不同的管线阶段，可以将生产速度提升$n$倍。但管线的生产效率受制于其最慢的管线阶段（木桶效应）。宏观上，渲染管线可以分成四个阶段：应用阶段→几何处理阶段→光栅化阶段→像素处理阶段。实际使用中，每一个阶段的内部又可以继续细分成更多的阶段。

- 应用阶段：应用阶段由具体的应用驱动，通常表现为由CPU端执行的渲染前准备和渲染调度任务。
- 几何处理阶段：几何处理阶段主要负责坐标变换、投射等与几何处理相关的任务。这个阶段会计算出哪些内容需要被绘制、应当怎样绘制，以及绘制到哪里。几何处理阶段一般在GPU上执行。
- 光栅化阶段：光栅化阶段负责将顶点组装成三角形，并且找到被各个三角形覆盖的屏幕像素，将这些信息送入下一个处理阶段。光栅化阶段一般在GPU上执行。
- 像素处理阶段：像素处理阶段会逐像素地执行一段程序，这段程序将计算出该像素的颜色。这个计算过程也许很复杂：可能会先执行深度测试，确定是否需要被绘制；也可能会执行颜色混合，将当前计算出的颜色和已有颜色混合。像素处理阶段一般在GPU上执行。
